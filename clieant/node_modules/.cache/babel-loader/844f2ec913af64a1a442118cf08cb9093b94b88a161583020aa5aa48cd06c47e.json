{"ast":null,"code":"var _jsxFileName = \"/home/probook/Documents/BitBucket/todo-davit-hayrapetyan/app/clieant/src/components/ToDoListItem/ToDoListItem.tsx\";\nimport React, { Component } from \"react\";\nimport withRouter from \"../withRoutr/withRouter\";\nimport Input from \"../Input/Input\";\nimport IconButton from \"../IconButton/IconButton\";\nimport inProgress from \"../../asset/img/inProgress.png\";\nimport done from \"../../asset/img/done.png\";\nimport edit from \"../../asset/img/edit.png\";\nimport del from \"../../asset/img/delete.png\";\nimport \"./toDoLIstItem.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass ToDoListItem extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      title: this.props.title ? this.props.title : \"Title\",\n      details: this.props.details ? this.props.details : \"Details\"\n    };\n    this.onDelete = e => {\n      this.props.deleteItem(e.target.getAttribute(\"id\") || \"\");\n    };\n    this.onUpdate = e => {\n      this.props.updateItem(e.target.getAttribute(\"id\") || \"\", {\n        title: this.state.title,\n        details: this.state.details\n      });\n    };\n    this.isDone = e => {\n      const updateDone = boolData => {\n        this.props.updateItem(e.target.getAttribute(\"id\") || \"\", {\n          done: boolData\n        });\n      };\n      this.props.toggleDone(e.target.getAttribute(\"id\") || \"\").then(res => {\n        if (res.done) {\n          updateDone(false);\n        } else {\n          updateDone(true);\n        }\n      });\n    };\n    this.showDetails = e => {\n      this.props.getSinglePost(e.target.getAttribute(\"id\") || \"\").then(res => {\n        localStorage.setItem(\"details\", res.details ? res.details : \"There are no details\");\n      }).then(() => {\n        this.props.router.navigate(\"/details\");\n      });\n    };\n    this.handleInputChanged = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n  }\n  render() {\n    const {\n      title,\n      details\n    } = this.state;\n    let itemStyle = `todo-item  ${this.props.doneStyle}`;\n    let doneIcon = this.props.doneStyle === 'isDone' ? done : inProgress;\n    let disableIconStyle = '';\n    this.setState(prevState => {\n      if (prevState.title === this.state.title || prevState.details === this.state.details) {\n        disableIconStyle = 'disable-button';\n      }\n    });\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      className: itemStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"title\",\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          name: \"title\",\n          type: \"text\",\n          placeholder: \"Title\",\n          value: title,\n          onChange: this.handleInputChanged\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          name: \"details\",\n          type: \"text\",\n          placeholder: \"Details\",\n          value: details,\n          onChange: this.handleInputChanged\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          id: this.props.id,\n          onClick: this.showDetails,\n          children: \"reade more\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"icons\",\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          src: doneIcon,\n          id: this.props.id,\n          onClick: this.isDone\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          src: edit,\n          disableIconStyle: true,\n          disableIconStyle: disableIconStyle,\n          id: this.props.id,\n          onClick: this.onUpdate\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          src: del,\n          id: this.props.id,\n          onClick: this.onDelete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default _c = withRouter(ToDoListItem);\nvar _c;\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","Component","withRouter","Input","IconButton","inProgress","done","edit","del","ToDoListItem","state","title","props","details","onDelete","e","deleteItem","target","getAttribute","onUpdate","updateItem","isDone","updateDone","boolData","toggleDone","then","res","showDetails","getSinglePost","localStorage","setItem","router","navigate","handleInputChanged","setState","name","value","render","itemStyle","doneStyle","doneIcon","disableIconStyle","prevState","id"],"sources":["/home/probook/Documents/BitBucket/todo-davit-hayrapetyan/app/clieant/src/components/ToDoListItem/ToDoListItem.tsx"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Todo } from \"../../types/todoObject\";\nimport { TodoDone } from \"../../types/todoDone\";\nimport withRouter from \"../withRoutr/withRouter\";\nimport Input from \"../Input/Input\";\nimport IconButton from \"../IconButton/IconButton\";\nimport inProgress from \"../../asset/img/inProgress.png\";\nimport done from \"../../asset/img/done.png\";\nimport edit from \"../../asset/img/edit.png\";\nimport del from \"../../asset/img/delete.png\";\nimport \"./toDoLIstItem.css\";\n\ninterface IProps {\n  router: {\n    navigate: (path: string) => void\n  },\n  deleteItem: (id: string) => void,\n  updateItem: (id: string, data: Todo | TodoDone) => void,\n  toggleDone: (id: string) => Promise<TodoDone>,\n  getSinglePost: (id: string) => Promise<Todo>,\n  title: string,\n  details: string,\n  doneStyle: string,\n  id: string\n}\n\ninterface IState {\n  title: string,\n  details: string\n}\n\nclass ToDoListItem extends Component<IProps, IState> {\n  state = {\n    title: this.props.title ? this.props.title : \"Title\",\n    details: this.props.details ? this.props.details : \"Details\",\n  };\n\n  onDelete = (e: React.MouseEvent<HTMLImageElement>) => {\n    this.props.deleteItem((e.target as HTMLInputElement).getAttribute(\"id\") || \"\");\n  };\n  onUpdate = (e: React.MouseEvent<HTMLImageElement>) => {\n    this.props.updateItem((e.target as HTMLInputElement).getAttribute(\"id\") || \"\", {\n      title: this.state.title,\n      details: this.state.details,\n    });\n  };\n  isDone = (e: React.MouseEvent<HTMLImageElement>) => {\n    const updateDone = (boolData: boolean) => {\n      this.props.updateItem((e.target as HTMLInputElement).getAttribute(\"id\") || \"\", {\n        done: boolData,\n      });\n    };\n\n    this.props.toggleDone((e.target as HTMLInputElement).getAttribute(\"id\") || \"\").then((res) => {\n      if (res.done) {\n        updateDone(false);\n      } else {\n        updateDone(true);\n      }\n    });\n  };\n\n  showDetails = (e: React.MouseEvent<HTMLButtonElement>) => {\n    this.props\n      .getSinglePost((e.target as HTMLInputElement).getAttribute(\"id\") || \"\")\n      .then((res) => {\n        localStorage.setItem(\n          \"details\",\n          res.details ? res.details : \"There are no details\"\n        );\n      })\n      .then(() => {\n        this.props.router.navigate(\"/details\");\n      });\n  };\n\n  handleInputChanged = (e: React.ChangeEvent<HTMLInputElement>) => {\n    this.setState({\n      [e.target.name]: e.target.value,\n    } as unknown as IState);\n  };\n\n  render() {\n    const { title, details } = this.state;\n    let itemStyle = `todo-item  ${this.props.doneStyle}`;\n    let doneIcon = this.props.doneStyle === 'isDone' ? done : inProgress;\n    \n      let disableIconStyle = '';\n      this.setState((prevState) => {\n        if (prevState.title === this.state.title || prevState.details === this.state.details) {\n          disableIconStyle = 'disable-button'\n        }\n      })\n    return (\n      <li className={itemStyle}>\n        <div className=\"title\">\n          <Input\n            name=\"title\"\n            type=\"text\"\n            placeholder=\"Title\"\n            value={title}\n            onChange={this.handleInputChanged}\n          />\n          <Input\n            name=\"details\"\n            type=\"text\"\n            placeholder=\"Details\"\n            value={details}\n            onChange={this.handleInputChanged}\n          />\n          <button id={this.props.id} onClick={this.showDetails}>\n            reade more\n          </button>\n        </div>\n        <div className=\"icons\">\n          <IconButton src={doneIcon} id={this.props.id} onClick={this.isDone} />\n          <IconButton src={edit} disableIconStyle\ndisableIconStyle={disableIconStyle} id={this.props.id} onClick={this.onUpdate} />\n          <IconButton src={del} id={this.props.id} onClick={this.onDelete} />\n        </div>\n      </li>\n    );\n  }\n}\n\nexport default withRouter(ToDoListItem);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}